{% macro list_card(list, album_cover_base_url, extra_info = null) %}
    <a href="{{ path('app_list_show', {id: list.id}) }}" class="list-group-item list-group-item-action d-flex align-items-center">
        <div class="position-relative me-3" style="width: 85px; height: 60px; flex-shrink: 0; transform: rotate(-2deg);">
            {% for item in list.previewItems(3) %}
                {% set offsetLeft = (loop.index0 * 15) %}
                {% set offsetTop = (loop.index0 * 4) %}
                {% set zIndex = 10 - loop.index0 %}
                {% if item.album.imageUrl %}
                    <img src="{{ album_cover_base_url ~ item.album.imageUrl }}" 
                            alt="{{ item.album.title }}" 
                            class="img-thumbnail position-absolute" 
                            style="width: 50px; height: 50px; object-fit: cover; top: {{ offsetTop }}px; left: {{ offsetLeft }}px; z-index: {{ zIndex }};"
                            title="{{ item.album.title }} - {{ item.album.artist.name }}">
                {% else %}
                    <div class="bg-light border d-flex align-items-center justify-content-center text-muted small text-center p-1 position-absolute" 
                            style="width: 50px; height: 50px; font-size: 0.6rem; top: {{ offsetTop }}px; left: {{ offsetLeft }}px; z-index: {{ zIndex }};"
                            title="{{ item.album.title }} - {{ item.album.artist.name }}">
                        No Img
                    </div>
                {% endif %}
            {% endfor %}
        </div>
        
        <div class="flex-grow-1">
            <div class="d-flex w-100 justify-content-between">
                <h5 class="mb-1">{{ list.title }}</h5>
                <small>{{ list.releaseYear }}</small>
            </div>
            <small class="text-muted">
                {% if extra_info %}
                    {{ extra_info|raw }}
                {% else %}
                    {% if list.type == 'ordered' %}
                        Genummerde Lijst
                    {% elseif list.type == 'unordered' %}
                        Ongenummerde Lijst
                    {% elseif list.type == 'aggregate' %}
                        Verzamelijst
                    {% else %}
                        {{ list.type|capitalize }}
                    {% endif %}
                {% endif %}
            </small>
        </div>
    </a>
{% endmacro %}

